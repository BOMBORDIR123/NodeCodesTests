## Автоматизированные API-тесты для приложения Nord Codes
### Описание проекта

Этот репозиторий содержит набор автоматизированных API-тестов для тестируемого backend-сервиса Nord Codes
(internal-0.0.1-SNAPSHOT.jar).

## Для запуска тестов и просмотра

1) ```mvn clean test```

2) ```mvn allure:serve```

## Приложение принимает POST-запросы на /endpoint и поддерживает действия:

- LOGIN — аутентификация пользователя

- ACTION — выполнение действия после успешного LOGIN

- LOGOUT — завершение сессии

### Все действия требуют:

- корректного API-ключа

- валидного токена формата: ^[0-9A-F]{32}$

## Что покрыто тестами

### Функциональность:

- успешные сценарии LOGIN / ACTION / LOGOUT

- ошибки API-ключа

- ошибки токена: формат, длина, граничные значения

- повторный LOGIN

- попытка ACTION без LOGIN

- LOGOUT без LOGIN

- внешний сервис /auth

- внешний сервис /doAction

- различные ошибки внешних сервисов

- проверка внутреннего хранилища (токен используется 1 раз)

- WireMock используется для мокирования внешних сервисов.

- Allure применяется для формирования читабельных отчётов.

## Используемый стек
```
Технология	Назначение
Java 17	язык разработки
JUnit 5	фреймворк тестирования
WireMock	эмуляция внешних сервисов
RestAssured	отправка HTTP-запросов
Allure 2	отчёты
Maven	система сборки
Запуск тестируемого приложения
java -jar \
-Dsecret=qazWSXedc \
-Dmock=http://localhost:8888/ \
internal-0.0.1-SNAPSHOT.jar
```

По умолчанию сервис работает на:

http://localhost:8080/endpoint

Запуск тестов

Стандартный запуск:

```mvn test```


Очистка + запуск:

```mvn clean test```


WireMock запускается автоматически во время выполнения тестов.

Отчёты Allure

Генерация результатов:

```mvn clean test```


Результаты будут в:

```target/allure-results```


Автоматическое открытие отчёта:

```mvn allure:serve```


Сохранение отчёта в директорию:

```allure generate target/allure-results -o target/allure-report --clean```


Просмотр:

```mvn allure open target/allure-report```

## Структура проекта
```
src/
└── test/java/
├── base/
│   └── TestBase.java              # запуск WireMock и настройка окружения
├── api/
│   └── ApiClient.java             # универсальный HTTP-клиент
├── utils/
│   └── TokenGenerator.java        # генерация валидных токенов
├── wiremock/
│   └── MockServer.java            # конфигурация мок-сервиса
├── tests/
│   ├── LoginTests.java            # тесты LOGIN
│   ├── ActionTests.java           # тесты ACTION
│   ├── LogoutTests.java           # тесты LOGOUT
│   └── NegativeTests.java         # негативные тесты
```
## Возможности проекта

Полное покрытие логики /endpoint

Детализированные сценарии LOGIN / ACTION / LOGOUT

Проверка корректной работы с внешними сервисами

Проверка ошибок: формат токена, API-ключ, повторные запросы

Граничные значения

Полное мокирование /auth и /doAction

Полноценные Allure-отчёты, понятные для неспециалистов

Детерминированные тесты: воспроизводимость 100%